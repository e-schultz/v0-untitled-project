---
title: How To Create Data Driven User Interfaces In Vue
date: '2025-04-18'
description: >-
  Although we usually know what components are needed when building most views
  within an app, sometimes we don't know what they are until runtime. This means
  we need to build a screen based on the application state, user preferences, or
  response from an API. A common case is building dynamic forms, where the
  questions and components needed are either configured by a JSON object, or
  where fields change based on the users' answers. 
tags:
  - uncategorized
image: null
url: 'https://rangle.io/blog/how-to-create-data-driven-user-interfaces-in-vue'
slug: how-to-create-data-driven-user-interfaces-in-vue
---

<div class="css-udzbms"><div class="css-7i1khu"><section class="css-r3fqbs"><p class="css-16cimln">Mar 07, 2018 — Read time: <strong>8 mins</strong></p><div class="css-wyhr2r"><div class="css-1uxw0xd"><div class="css-n3pbl1"><a href="/blog/author/evan-schultz"><span class="ds-figure"><figure class="css-14taefl"><img src="images/how-to-create-data-driven-user-interfaces-in-vue-evan.png" alt="" loading="lazy" sizes="(max-width: 360px) , 75px" class="css-7tbaik"></figure></span></a></div><div><a href="/blog/author/evan-schultz"><span class="css-1i82ydo">Evan Schultz</span></a><span class="css-1i82ydo">Technical Director</span></div></div></div><h1>Do it with Elegance: How to Create Data-Driven User Interfaces in Vue</h1><div class="css-6u2tq1"></div><div class="css-jr2m3h"><p class="ds-large-body">Although we usually know what components are needed when building most views within an app, sometimes we don't know what they are until runtime. This means we need to build a screen based on the application state, user preferences, or response from an API. A common case is building dynamic forms, where the questions and components needed are either configured by a JSON object, or where fields change based on the users' answers.</p></div><div class="css-11b6it4"><span class="ds-figure"><figure class="css-14taefl"><img src="images/how-to-create-data-driven-user-interfaces-in-vue-feature-photo.png" alt="Iconography of a data-driven user interface" loading="lazy" sizes="100%" class="css-4a0506"></figure></span></div><article><div class="css-1q29gwd"><p>Although we usually know what components are needed when building most views within an app, sometimes we don't know what they are until runtime. This means we need to build a screen based on the application state, user preferences, or response from an API. A common case is building dynamic forms, where the questions and components needed are either configured by a JSON object, or where fields change based on the users' answers.</p><p>All modern JavaScript frameworks have ways of handling dynamic components. This blog post will show you how to do it in Vue.JS, which provides a remarkably elegant and easy solution to the above scenario.</p><p>Once you see how easy this can be using Vue.JS, you might get inspired and see applications for dynamic components that you have never considered before!</p><p>We need to walk before we can run, so first I'll go over the basics of dynamic components, and then dive into how these concepts can be used to build your own dynamic form builder.</p><p>Stay up to date on what's happening in the digital transformation space by signing up for our newsletter, <a data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="/newsletter-signup/" style="text-decoration:underline" class="css-k1irjw" href="/newsletter-signup"><span class="ds-link css-193o7bn">here</span></a>.</p><h3 id="the-basics">The Basics</h3><p>Vue has a built-in component called (fittingly) <span class="ds-code-highlight">&lt;component&gt;</span>. You can see the full details in the <a href="https://vuejs.org/v2/guide/components.html#Dynamic-Components" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="https://vuejs.org/v2/guide/components.html#Dynamic-Components" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0">VueJS guide on Dynamic Components</span></a>.</p><p>The guide says:</p><div class="css-5u8i8j"><div class="css-1q29gwd"><p><em>"You can use the same mount point and dynamically switch between multiple components using the reserved element and dynamically bind to its is attribute."</em></p></div></div><p>What this means is that being able to swap between components can be as simple as:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">component</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">:is</span><span style="color:#d91e18">=</span><span style="color:#008000">"componentType"</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>Let's flesh this out a bit more and see what is going on. We will create two components called <span class="ds-code-highlight">DynamicOne</span> and <span class="ds-code-highlight">DynamicTwo</span> - for now One and Two will be the same, so I won’t repeat the code for both:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">template</span><span style="color:#d91e18">&gt;</span><span>
</span><span>  </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">div</span><span style="color:#d91e18">&gt;</span><span>Dynamic Component One</span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">div</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">template</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">script</span><span style="color:#d91e18">&gt;</span><span class="javascript">
</span><span class="javascript"></span><span class="javascript" style="color:#7928a1">export</span><span class="javascript"> </span><span class="javascript" style="color:#7928a1">default</span><span class="javascript"> {
</span><span class="javascript">  </span><span class="javascript hljs-attr">name</span><span class="javascript">: </span><span class="javascript" style="color:#008000">'DynamicOne'</span><span class="javascript">,
</span><span class="javascript">}
</span><span class="javascript"></span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">script</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>For a quick example of being able to toggle between them, in our App.vue we will set up our component:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">import</span><span> DynamicOne </span><span style="color:#7928a1">from</span><span> </span><span style="color:#008000">'./components/DynamicOne.vue'</span><span>
</span><span></span><span style="color:#7928a1">import</span><span> DynamicTwo </span><span style="color:#7928a1">from</span><span> </span><span style="color:#008000">'./components/DynamicTwo.vue'</span><span>
</span>
<span></span><span style="color:#7928a1">export</span><span> </span><span style="color:#7928a1">default</span><span> {
</span><span>  </span><span class="hljs-attr">name</span><span>: </span><span style="color:#008000">'app'</span><span>,
</span><span>  </span><span class="hljs-attr">components</span><span>: {
</span>    DynamicOne, DynamicTwo
<!-- -->  },
<span>  </span><span class="hljs-function" style="color:#007faa">data</span><span class="hljs-function">(</span><span class="hljs-function">)</span><span> {
</span><span>    </span><span style="color:#7928a1">return</span><span> {
</span><span>      </span><span class="hljs-attr">showWhich</span><span>: </span><span style="color:#008000">'DynamicOne'</span><span>
</span>    }
<!-- -->  }
<!-- -->}
</code></pre><p>Note: the <span class="ds-code-highlight">showWhich</span> data property is the string value of <span class="ds-code-highlight">DynamicOne</span> - this is the property name created in the <span class="ds-code-highlight">components</span> object on the component.</p><p>In our template, we will set up two buttons to swap between the two dynamic components:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">button</span><span style="color:#d91e18"> @</span><span class="hljs-attr" style="color:#d91e18">click</span><span style="color:#d91e18">=</span><span style="color:#008000">"showWhich = 'DynamicOne'"</span><span style="color:#d91e18">&gt;</span><span>Show Component One</span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">button</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">button</span><span style="color:#d91e18"> @</span><span class="hljs-attr" style="color:#d91e18">click</span><span style="color:#d91e18">=</span><span style="color:#008000">"showWhich = 'DynamicTwo'"</span><span style="color:#d91e18">&gt;</span><span>Show Component Two</span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">button</span><span style="color:#d91e18">&gt;</span><span>
</span>
<span></span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">component</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">:is</span><span style="color:#d91e18">=</span><span style="color:#008000">"showWhich"</span><span style="color:#d91e18">&gt;</span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">component</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>Clicking on the buttons will swap out <span class="ds-code-highlight">DynamicOne</span> with <span class="ds-code-highlight">DynamicTwo</span>.</p><div class="ds-iframe css-1jr0tae"></div><p>At this point, you might be thinking, “Well, so what? That’s handy - but I could have used <span class="ds-code-highlight">v-if</span> just as easily.”</p><p>This example starts to shine when you realize that <span class="ds-code-highlight">&lt;component&gt;</span> works just like any other component, and it can be used in combination with things like <span class="ds-code-highlight">v-for</span> for iterating over a collection, or making the <span class="ds-code-highlight">:is</span> bindable to an input prop, data prop, or computed property.</p><h3 id="what-about-the-props-and-events?">What about the props and events?</h3><p>Components don’t live in isolation - they need a way to communicate with the world around them. With Vue, this is done with props and events.</p><p>You can specify property and event bindings on a dynamic component the same way as any other component, and if the component that gets loaded does not need that property, Vue will not complain about unknown attributes or properties.</p><p>Let's modify our components to display a greeting. One will accept just <span class="ds-code-highlight">firstName</span> and <span class="ds-code-highlight">lastName</span>, while another will accept <span class="ds-code-highlight">firstName</span>, <span class="ds-code-highlight">lastName</span> and <span class="ds-code-highlight">title</span>.</p><p>For the events, we will add a button in <span class="ds-code-highlight">DynamicOne</span> that will emit an event called ‘upperCase’, and in DynamicTwo, a button that will emit an event ‘lowerCase’.</p><p>Putting it together, consuming the dynamic component starts to look like:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">component</span><span style="color:#d91e18"> 
</span><span style="color:#d91e18">	</span><span class="hljs-attr" style="color:#d91e18">:is</span><span style="color:#d91e18">=</span><span style="color:#008000">"showWhich"</span><span style="color:#d91e18"> 
</span><span style="color:#d91e18">	</span><span class="hljs-attr" style="color:#d91e18">:firstName</span><span style="color:#d91e18">=</span><span style="color:#008000">"person.firstName"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">	</span><span class="hljs-attr" style="color:#d91e18">:lastName</span><span style="color:#d91e18">=</span><span style="color:#008000">"person.lastName"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">	</span><span class="hljs-attr" style="color:#d91e18">:title</span><span style="color:#d91e18">=</span><span style="color:#008000">"person.title"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">	@</span><span class="hljs-attr" style="color:#d91e18">upperCase</span><span style="color:#d91e18">=</span><span style="color:#008000">"switchCase('upperCase')"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">	@</span><span class="hljs-attr" style="color:#d91e18">lowerCase</span><span style="color:#d91e18">=</span><span style="color:#008000">"switchCase('lowerCase')"</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">component</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>Not every property or event needs to be defined on the dynamic component that we are switching between.</p><h3 id="do-you-need-to-know-the-props-up-front?">Do you need to know the props up front?</h3><p>At this point, you might be wondering, "If the components are dynamic, and not every component needs to know every possible prop - do I need to know the props up front, and declare them in the template?"</p><p>Thankfully, the answer is no. Vue provides a shortcut, where you can bind all the keys of an object to props of the component using <span class="ds-code-highlight">v-bind</span>.</p><p>This simplifies the template to:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">component</span><span style="color:#d91e18"> 
</span><span style="color:#d91e18">	</span><span class="hljs-attr" style="color:#d91e18">:is</span><span style="color:#d91e18">=</span><span style="color:#008000">"showWhich"</span><span style="color:#d91e18"> 
</span><span style="color:#d91e18">	</span><span class="hljs-attr" style="color:#d91e18">v-bind</span><span style="color:#d91e18">=</span><span style="color:#008000">"person"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">	@</span><span class="hljs-attr" style="color:#d91e18">upperCase</span><span style="color:#d91e18">=</span><span style="color:#008000">"switchCase('upperCase')"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">	@</span><span class="hljs-attr" style="color:#d91e18">lowerCase</span><span style="color:#d91e18">=</span><span style="color:#008000">"switchCase('lowerCase')"</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">component</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><div class="ds-iframe css-1jr0tae"></div><h3 id="what-about-forms?">What about Forms?</h3><p>Now that we have the building blocks of Dynamic Components, we can start building on top of other Vue basics to start building a form generator.</p><p>Let's start with a basic form schema - a JSON object that describes the fields, labels, options, etc for a form. To start, we will account for:</p><ul><li class="">Text and Numeric input fields</li><li class="">A Select list</li></ul><p>The starting schema looks like:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span>schema: [{
</span><span>          </span><span class="hljs-attr">fieldType</span><span>: </span><span style="color:#008000">"SelectList"</span><span>,
</span><span>          </span><span class="hljs-attr">name</span><span>: </span><span style="color:#008000">"title"</span><span>,
</span><span>          </span><span class="hljs-attr">multi</span><span>: </span><span style="color:#aa5d00">false</span><span>,
</span><span>          </span><span class="hljs-attr">label</span><span>: </span><span style="color:#008000">"Title"</span><span>,
</span><span>          </span><span class="hljs-attr">options</span><span>: [</span><span style="color:#008000">"Ms"</span><span>, </span><span style="color:#008000">"Mr"</span><span>, </span><span style="color:#008000">"Mx"</span><span>, </span><span style="color:#008000">"Dr"</span><span>, </span><span style="color:#008000">"Madam"</span><span>, </span><span style="color:#008000">"Lord"</span><span>]
</span>        },
<!-- -->        {
<span>          </span><span class="hljs-attr">fieldType</span><span>: </span><span style="color:#008000">"TextInput"</span><span>,
</span><span>          </span><span class="hljs-attr">placeholder</span><span>: </span><span style="color:#008000">"First Name"</span><span>,
</span><span>          </span><span class="hljs-attr">label</span><span>: </span><span style="color:#008000">"First Name"</span><span>,
</span><span>          </span><span class="hljs-attr">name</span><span>: </span><span style="color:#008000">"firstName"</span><span>
</span>        },
<!-- -->        {
<span>          </span><span class="hljs-attr">fieldType</span><span>: </span><span style="color:#008000">"TextInput"</span><span>,
</span><span>          </span><span class="hljs-attr">placeholder</span><span>: </span><span style="color:#008000">"Last Name"</span><span>,
</span><span>          </span><span class="hljs-attr">label</span><span>: </span><span style="color:#008000">"Last Name"</span><span>,
</span><span>          </span><span class="hljs-attr">name</span><span>: </span><span style="color:#008000">"lastName"</span><span>
</span>        },
<!-- -->        {
<span>          </span><span class="hljs-attr">fieldType</span><span>: </span><span style="color:#008000">"NumberInput"</span><span>,
</span><span>          </span><span class="hljs-attr">placeholder</span><span>: </span><span style="color:#008000">"Age"</span><span>,
</span><span>          </span><span class="hljs-attr">name</span><span>: </span><span style="color:#008000">"age"</span><span>,
</span><span>          </span><span class="hljs-attr">label</span><span>: </span><span style="color:#008000">"Age"</span><span>,
</span><span>          </span><span class="hljs-attr">minValue</span><span>: </span><span style="color:#aa5d00">0</span><span>
</span>        }
<!-- -->      ]
</code></pre><p>Pretty straightforward - labels, placeholders, etc - and for a select list, a list of possible options. We will keep the component implementation for these simple for this example.</p><p><em>TextInput.vue - template</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">div</span><span style="color:#d91e18">&gt;</span><span>
</span><span>	</span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">label</span><span style="color:#d91e18">&gt;</span><span>{{label}}</span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">label</span><span style="color:#d91e18">&gt;</span><span>
</span><span>	</span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">input</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">type</span><span style="color:#d91e18">=</span><span style="color:#008000">"text"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">         </span><span class="hljs-attr" style="color:#d91e18">:name</span><span style="color:#d91e18">=</span><span style="color:#008000">"name"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">          </span><span class="hljs-attr" style="color:#d91e18">placeholder</span><span style="color:#d91e18">=</span><span style="color:#008000">"placeholder"</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">div</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p><em>TextInput.vue - script</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">export</span><span> </span><span style="color:#7928a1">default</span><span> {
</span><span>  </span><span class="hljs-attr">name</span><span>: </span><span style="color:#008000">'TextInput'</span><span>,
</span><span>  </span><span class="hljs-attr">props</span><span>: [</span><span style="color:#008000">'placeholder'</span><span>, </span><span style="color:#008000">'label'</span><span>, </span><span style="color:#008000">'name'</span><span>]
</span>}
</code></pre><p><em>SelectList.vue - template</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span>  </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">div</span><span style="color:#d91e18">&gt;</span><span>
</span><span>    </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">label</span><span style="color:#d91e18">&gt;</span><span>{{label}}</span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">label</span><span style="color:#d91e18">&gt;</span><span>
</span><span>    </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">select</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">:multiple</span><span style="color:#d91e18">=</span><span style="color:#008000">"multi"</span><span style="color:#d91e18">&gt;</span><span>
</span><span>      </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">option</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">v-for</span><span style="color:#d91e18">=</span><span style="color:#008000">"option in options"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">              </span><span class="hljs-attr" style="color:#d91e18">:key</span><span style="color:#d91e18">=</span><span style="color:#008000">"option"</span><span style="color:#d91e18">&gt;</span><span>
</span>        {{option}}
<span>      </span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">option</span><span style="color:#d91e18">&gt;</span><span>
</span><span>    </span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">select</span><span style="color:#d91e18">&gt;</span><span>
</span><span>  </span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">div</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p><em>SelectList.vue - script</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">export</span><span> </span><span style="color:#7928a1">default</span><span> {
</span><span>  </span><span class="hljs-attr">name</span><span>: </span><span style="color:#008000">'SelectList'</span><span>,
</span><span>  </span><span class="hljs-attr">props</span><span>: [</span><span style="color:#008000">'multi'</span><span>, </span><span style="color:#008000">'options'</span><span>, </span><span style="color:#008000">'name'</span><span>, </span><span style="color:#008000">'label'</span><span>]
</span>}
</code></pre><p>To generate the form based on this schema, add this:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">component</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">v-for</span><span style="color:#d91e18">=</span><span style="color:#008000">"(field, index) in schema"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">               </span><span class="hljs-attr" style="color:#d91e18">:key</span><span style="color:#d91e18">=</span><span style="color:#008000">"index"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">               </span><span class="hljs-attr" style="color:#d91e18">:is</span><span style="color:#d91e18">=</span><span style="color:#008000">"field.fieldType"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">               </span><span class="hljs-attr" style="color:#d91e18">v-bind</span><span style="color:#d91e18">=</span><span style="color:#008000">"field"</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">component</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>Which results in this form:</p><div class="ds-iframe css-1jr0tae"></div><h3 id="data-binding">Data Binding</h3><p>If a form is generated but does not bind data, is it very useful? Probably not. We currently are generating a form but have no means of binding data to it. Your first instinct might be to add a <span class="ds-code-highlight">value</span> property to the schema, and in the components use <span class="ds-code-highlight">v-model</span> like so:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">input</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">type</span><span style="color:#d91e18">=</span><span style="color:#008000">"text"</span><span style="color:#d91e18"> 
</span><span style="color:#d91e18">    </span><span class="hljs-attr" style="color:#d91e18">:name</span><span style="color:#d91e18">=</span><span style="color:#008000">"name"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">    </span><span class="hljs-attr" style="color:#d91e18">v-model</span><span style="color:#d91e18">=</span><span style="color:#008000">"value"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">	  </span><span class="hljs-attr" style="color:#d91e18">:placeholder</span><span style="color:#d91e18">=</span><span style="color:#008000">"placeholder"</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>There are a few potential pitfalls with this approach, but the one that we care about most is one that Vue will give us an error/warning about:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span>[Vue warn]: Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop</span><span style="color:#008000">'s value. Prop being mutated: "value"
</span><span style="color:#008000">
</span><span style="color:#008000">found in
</span><span style="color:#008000">
</span><span style="color:#008000">---&gt; &lt;TextInput&gt; at src/components/v4/TextInput.vue
</span><span style="color:#008000">       &lt;FormsDemo&gt; at src/components/DemoFour.vue
</span><span style="color:#008000">         &lt;App&gt; at src/App.vue
</span><span style="color:#008000">           &lt;Root&gt;
</span><span style="color:#008000"></span></code></pre><p>While Vue does provide helpers to make two-way binding of component state easier, the framework still prefers a one-way data flow. We have tried to mutate the parent's data directly within our component, so Vue is warning us about that.</p><p>Looking a little more closely at <span class="ds-code-highlight">v-model</span>, it does not have that much magic to it, so let's break it down as described in the <a href="https://vuejs.org/v2/guide/components.html#Form-Input-Components-using-Custom-Events" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="https://vuejs.org/v2/guide/components.html#Form-Input-Components-using-Custom-Events" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0">Vue Guide on Form Input Components</span></a>.</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">input</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">v-model</span><span style="color:#d91e18">=</span><span style="color:#008000">"something"</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>Is the same as:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">input</span><span style="color:#d91e18">
</span><span style="color:#d91e18">  </span><span class="hljs-attr" style="color:#d91e18">v-bind:value</span><span style="color:#d91e18">=</span><span style="color:#008000">"something"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">  </span><span class="hljs-attr" style="color:#d91e18">v-on:input</span><span style="color:#d91e18">=</span><span style="color:#008000">"something = $event.target.value"</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>With the magic revealed, what we want to accomplish is:</p><ul><li class="">Let the parent provide the value to the child component</li><li class="">Let the parent know that a value has been updated</li></ul><p>We accomplish this by binding to the <span class="ds-code-highlight">:value</span> and emitting an <span class="ds-code-highlight">@input</span> event to notify the parent that something has changed.</p><p>Let's look at our <span class="ds-code-highlight">TextInput</span> component:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span>  </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">div</span><span style="color:#d91e18">&gt;</span><span>
</span><span>    </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">label</span><span style="color:#d91e18">&gt;</span><span>{{label}}</span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">label</span><span style="color:#d91e18">&gt;</span><span>
</span><span>    </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">input</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">type</span><span style="color:#d91e18">=</span><span style="color:#008000">"text"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">           </span><span class="hljs-attr" style="color:#d91e18">:name</span><span style="color:#d91e18">=</span><span style="color:#008000">"name"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">           </span><span class="hljs-attr" style="color:#d91e18">:value</span><span style="color:#d91e18">=</span><span style="color:#008000">"value"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">           @</span><span class="hljs-attr" style="color:#d91e18">input</span><span style="color:#d91e18">=</span><span style="color:#008000">"$emit('input',$event.target.value)"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">           </span><span class="hljs-attr" style="color:#d91e18">:placeholder</span><span style="color:#d91e18">=</span><span style="color:#008000">"placeholder"</span><span style="color:#d91e18">&gt;</span><span>
</span><span>  </span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">div</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>Since the parent is responsible for providing the value, it is also responsible for handling the binding to its own component state. For this we can use <span class="ds-code-highlight">v-model</span> on the <span class="ds-code-highlight">component</span> tag:</p><p><em>FormGenerator.vue - template</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span> </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">component</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">v-for</span><span style="color:#d91e18">=</span><span style="color:#008000">"(field, index) in schema"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">		</span><span class="hljs-attr" style="color:#d91e18">:key</span><span style="color:#d91e18">=</span><span style="color:#008000">"index"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">		</span><span class="hljs-attr" style="color:#d91e18">:is</span><span style="color:#d91e18">=</span><span style="color:#008000">"field.fieldType"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">		</span><span class="hljs-attr" style="color:#d91e18">v-model</span><span style="color:#d91e18">=</span><span style="color:#008000">"formData[field.name]"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">		</span><span class="hljs-attr" style="color:#d91e18">v-bind</span><span style="color:#d91e18">=</span><span style="color:#008000">"field"</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">component</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>Notice how we are using <span class="ds-code-highlight">v-model="formData[field.name]"</span>. We need to provide an object on the data property for this:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">export</span><span> </span><span style="color:#7928a1">default</span><span> {
</span><span>	</span><span class="hljs-function" style="color:#007faa">data</span><span class="hljs-function">(</span><span class="hljs-function">)</span><span> {
</span><span>    </span><span style="color:#7928a1">return</span><span> {
</span><span>      </span><span class="hljs-attr">formData</span><span>: {
</span><span>        </span><span class="hljs-attr">firstName</span><span>: </span><span style="color:#008000">'Evan'</span><span>
</span>      },
<!-- -->}
</code></pre><p>We can leave the object empty, or if we have some initial field values that we want to set up, we could specify them here.</p><p>Now that we have gone over generating a form, it’s starting to become apparent that this component is taking on quite a bit of responsibility. While this is not complicated code, it would be nice if the form generator itself was a reusable component.</p><h3 id="making-the-generator-reusable">Making the Generator Reusable</h3><p>For this form generator, we will want to pass the schema to it as a prop and be able to have data-binding set up between the components.</p><p>When using the generator, the template becomes:</p><p><em>GeneratorDemo.vue - template</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">form-generator</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">:schema</span><span style="color:#d91e18">=</span><span style="color:#008000">"schema"</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">v-model</span><span style="color:#d91e18">=</span><span style="color:#008000">"formData"</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">form-generator</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p>This cleans up the parent component quite a bit. It only cares about <span class="ds-code-highlight">FormGenerator</span>, and not about each input type that could be used, wiring up events, etc.</p><p>Next, make a component called <span class="ds-code-highlight">FormGenerator</span>. This will pretty much be copy-pasted of the initial code with a few minor, but key tweaks:</p><ul><li class="">Change from v-model to :value and @input event handling</li><li class="">Add props value and schema</li><li class="">Implement updateForm</li></ul><p>The FormGenerator component becomes:</p><p><em>FormGenerator.vue - template</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span> </span><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">component</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">v-for</span><span style="color:#d91e18">=</span><span style="color:#008000">"(field, index) in schema"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">               </span><span class="hljs-attr" style="color:#d91e18">:key</span><span style="color:#d91e18">=</span><span style="color:#008000">"index"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">               </span><span class="hljs-attr" style="color:#d91e18">:is</span><span style="color:#d91e18">=</span><span style="color:#008000">"field.fieldType"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">               </span><span class="hljs-attr" style="color:#d91e18">:value</span><span style="color:#d91e18">=</span><span style="color:#008000">"formData[field.name]"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">               @</span><span class="hljs-attr" style="color:#d91e18">input</span><span style="color:#d91e18">=</span><span style="color:#008000">"updateForm(field.name, $event)"</span><span style="color:#d91e18">
</span><span style="color:#d91e18">               </span><span class="hljs-attr" style="color:#d91e18">v-bind</span><span style="color:#d91e18">=</span><span style="color:#008000">"field"</span><span style="color:#d91e18">&gt;</span><span>
</span><span>    </span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">component</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p><em>FormGenerator.vue - script</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">import</span><span> NumberInput </span><span style="color:#7928a1">from</span><span> </span><span style="color:#008000">'@/components/v5/NumberInput'</span><span>
</span><span></span><span style="color:#7928a1">import</span><span> SelectList </span><span style="color:#7928a1">from</span><span> </span><span style="color:#008000">'@/components/v5/SelectList'</span><span>
</span><span></span><span style="color:#7928a1">import</span><span> TextInput </span><span style="color:#7928a1">from</span><span> </span><span style="color:#008000">'@/components/v5/TextInput'</span><span>
</span>
<span></span><span style="color:#7928a1">export</span><span> </span><span style="color:#7928a1">default</span><span> {
</span><span>  </span><span class="hljs-attr">name</span><span>: </span><span style="color:#008000">"FormGenerator"</span><span>,
</span><span>  </span><span class="hljs-attr">components</span><span>: { NumberInput, SelectList, TextInput },
</span><span>  </span><span class="hljs-attr">props</span><span>: [</span><span style="color:#008000">'schema'</span><span>, </span><span style="color:#008000">'value'</span><span>],
</span><span>  </span><span class="hljs-function" style="color:#007faa">data</span><span class="hljs-function">(</span><span class="hljs-function">)</span><span> {
</span><span>    </span><span style="color:#7928a1">return</span><span> {
</span><span>      </span><span class="hljs-attr">formData</span><span>: </span><span style="color:#aa5d00">this</span><span>.value || {}
</span>    };
<!-- -->  },
<span>  </span><span class="hljs-attr">methods</span><span>: {
</span><span>    </span><span class="hljs-function" style="color:#007faa">updateForm</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">fieldName, value</span><span class="hljs-function">)</span><span> {
</span><span>      </span><span style="color:#aa5d00">this</span><span>.$set(</span><span style="color:#aa5d00">this</span><span>.formData, fieldName, value);
</span><span>      </span><span style="color:#aa5d00">this</span><span>.$emit(</span><span style="color:#008000">'input'</span><span>, </span><span style="color:#aa5d00">this</span><span>.formData)
</span>    }
<!-- -->  }
<!-- -->};
</code></pre><p>Since the <span class="ds-code-highlight">formData</span> property does not know every possible field that we could pass in, we want to use <span class="ds-code-highlight">this.$set</span> so Vue's reactive system can keep track of any changes, and allow the <span class="ds-code-highlight">FormGenerator</span> component to keep track of its own internal state.</p><p>Now we have a basic, reusable form generator.</p><p>Using it within a component:</p><p><em>GeneratorDemo.vue - template</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-html" style="white-space:pre"><span style="color:#d91e18">&lt;</span><span style="color:#d91e18">form-generator</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">:schema</span><span style="color:#d91e18">=</span><span style="color:#008000">"schema"</span><span style="color:#d91e18"> </span><span class="hljs-attr" style="color:#d91e18">v-model</span><span style="color:#d91e18">=</span><span style="color:#008000">"formData"</span><span style="color:#d91e18">&gt;</span><span>
</span><span></span><span style="color:#d91e18">&lt;/</span><span style="color:#d91e18">form-generator</span><span style="color:#d91e18">&gt;</span><span>
</span></code></pre><p><em>GeneratorDemo.vue - script</em></p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">import</span><span> FormGenerator </span><span style="color:#7928a1">from</span><span> </span><span style="color:#008000">'@/components/v5/FormGenerator'</span><span>
</span>
<span></span><span style="color:#7928a1">export</span><span> </span><span style="color:#7928a1">default</span><span> {
</span><span>  </span><span class="hljs-attr">name</span><span>: </span><span style="color:#008000">"GeneratorDemo"</span><span>,
</span><span>  </span><span class="hljs-attr">components</span><span>: { FormGenerator },
</span><span>  </span><span class="hljs-function" style="color:#007faa">data</span><span class="hljs-function">(</span><span class="hljs-function">)</span><span> {
</span><span>    </span><span style="color:#7928a1">return</span><span> {
</span><span>      </span><span class="hljs-attr">formData</span><span>: {
</span><span>        </span><span class="hljs-attr">firstName</span><span>: </span><span style="color:#008000">'Evan'</span><span>
</span>      },
<span>      </span><span class="hljs-attr">schema</span><span>: [{ </span><span style="color:#696969">/* .... */</span><span> },
</span>}
</code></pre><div class="ds-iframe css-1jr0tae"></div><p>So now that you've seen how a form generator can leverage the basics of dynamic components in Vue to create some highly dynamic, data-driven UIs, I encourage you to play around with this example code on <a href="https://github.com/e-schultz/vue-dynamic-components" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="https://github.com/e-schultz/vue-dynamic-components" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0">GitHub</span></a>, or expirement on <a href="https://codesandbox.io/s/github/e-schultz/vue-dynamic-components/tree/master/?initialpath=%2Fdemo-5&amp;module=%2Fsrc%2Fcomponents%2FDemoFive.vue" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="https://codesandbox.io/s/github/e-schultz/vue-dynamic-components/tree/master/?initialpath=%2Fdemo-5&amp;module=%2Fsrc%2Fcomponents%2FDemoFive.vue" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0">CodeSandbox</span></a>. And feel free to reach out if you have any questions or want to talk shop - <a href="https://twitter.com/@e_p82" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="https://twitter.com/@e_p82" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0">Twitter</span></a>, <a href="https://github.com/e-schultz" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="https://github.com/e-schultz" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0">Github</span></a>, or Contact Rangle.io.</p><p><a href="https://codesandbox.io/s/github/e-schultz/vue-dynamic-components/tree/master/?initialpath=%2Fdemo-5&amp;module=%2Fsrc%2Fcomponents%2FDemoFive.vue" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="https://codesandbox.io/s/github/e-schultz/vue-dynamic-components/tree/master/?initialpath=%2Fdemo-5&amp;module=%2Fsrc%2Fcomponents%2FDemoFive.vue" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0"></span></a></p></div></article></section></div></div>
