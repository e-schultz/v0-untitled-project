---
title: Refactor To React Hooks Not Classes
date: '2025-04-18'
description: >-
  JavaScript and its ecosystem are evolving at a rapid pace. As new frameworks,
  libraries, and features get added JavaScript fatigue can start to set in.
tags:
  - uncategorized
image: null
url: 'https://rangle.io/blog/refactor-to-react-hooks-not-classes'
slug: refactor-to-react-hooks-not-classes
---

<div class="css-udzbms"><div class="css-7i1khu"><section class="css-r3fqbs"><p class="css-16cimln">Mar 28, 2019 — Read time: <strong>6 mins</strong></p><div class="css-wyhr2r"><div class="css-1uxw0xd"><div class="css-n3pbl1"><a href="/blog/author/evan-schultz"><span class="ds-figure"><figure class="css-14taefl"><img src="images/refactor-to-react-hooks-not-classes-evan.png" alt="" loading="lazy" sizes="(max-width: 360px) , 75px" class="css-7tbaik"></figure></span></a></div><div><a href="/blog/author/evan-schultz"><span class="css-1i82ydo">Evan Schultz</span></a><span class="css-1i82ydo">Technical Director</span></div></div><div class="css-1uxw0xd"><div class="css-n3pbl1"><a href="/blog/author/harry-nicholls"><span class="ds-figure"><figure class="css-14taefl"><img src="images/refactor-to-react-hooks-not-classes-harry-nicholls.jpg" alt="" loading="lazy" sizes="(max-width: 360px) , 75px" class="css-7tbaik"></figure></span></a></div><div><a href="/blog/author/harry-nicholls"><span class="css-1i82ydo">Harry Nicholls</span></a><span class="css-1i82ydo">Software Developer</span></div></div></div><h1>Refactor to React Hooks, Not Classes</h1><div class="css-6u2tq1"><div color="red" class="css-1rekqu8">frontend</div><div color="grey" class="css-ro6flr">development</div></div><div class="css-jr2m3h"><p class="ds-large-body">JavaScript and its ecosystem are evolving at a rapid pace. As new frameworks, libraries, and features get added JavaScript fatigue can start to set in.</p></div><div class="css-11b6it4"><span class="ds-figure"><figure class="css-14taefl"><img src="images/refactor-to-react-hooks-not-classes-feature-photo.png" alt="react over a fishhook" loading="lazy" sizes="100%" class="css-4a0506"></figure></span></div><div class="css-19tz4ar"><div class="blog-toc css-lnxhmm"></div></div><article><div class="css-1q29gwd"><p><strong>Are you tired of refactoring stateless-functional components to class-based ones, just to manage simple local state? Have you heard about React Hooks, but not sure how to use them in your current codebase? Then this article is for you!</strong></p><p>JavaScript and its ecosystem are evolving at a rapid pace. As new frameworks, libraries, and features get added JavaScript fatigue can start to set in.</p><p>It can be difficult to know what's worth adopting, when to adopt it, and how to introduce it into our existing projects.</p><p>While adopting some things may require large refactors or even migration to a new framework, other changes can be incrementally added to your existing projects.</p><h2 id="class-based-or-functional?">Class-based or Functional?</h2><p>React allows us to build both class-based and functional components.</p><p>Generally, it's recommended to start with a functional component for a few key reasons, <a href="https://medium.com/@Zwenza/functional-vs-class-components-in-react-231e3fbd7108" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="https://medium.com/@Zwenza/functional-vs-class-components-in-react-231e3fbd7108" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0">explained by David Jöch</span></a>:</p><div class="css-5u8i8j"><div class="css-1q29gwd"><p><br>1. Functional component are much&nbsp;<strong>easier to read and test</strong>&nbsp;because they are plain JavaScript functions without state or lifecycle-hooks</p><p>2. You end up with&nbsp;<strong>less code</strong></p><p>3. They help you to use&nbsp;<strong>best practices</strong>. It will get easier to separate container and presentational components because you need to think more about your component’s state if you don’t have access to setState() in your component</p><p>4. The React team&nbsp;<a href="https://reactjs.org/blog/2015/10/07/react-v0.14.html#stateless-functional-components)&nbsp;" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="https://reactjs.org/blog/2015/10/07/react-v0.14.html#stateless-functional-components)&nbsp;" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0">mentioned</span></a> that there may be a&nbsp;<strong>performance</strong>&nbsp;boost for functional component in future React versions<br><br><br><br><br></p></div></div><p>We're not going to go into the details of that here, and that's not to say that class-based components don't have their benefits.</p><p>When following the recommended approach and starting with most of our components being functional - what happens when you need to keep track of some internal state, or be able to take advantage of React lifecycle methods such as <span class="ds-code-highlight">componentDidMount</span> or <span class="ds-code-highlight">componentWillUpdate</span>?</p><p>Currently you would need to convert it to a Class-based component.</p><p>But not for much longer.</p><p>React Hooks are coming to save the day!</p><h2 id="class-dismissed">Class Dismissed</h2><p>At Rangle, we've been exploring the potential of React Hooks, so I reached out to coworkers to see if they had any examples of existing code they thought could benefit from Hooks.</p><p><a data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="/blog/author/harry-nicholls" style="text-decoration:underline" class="css-k1irjw" href="/blog/author/harry-nicholls"><span class="ds-link css-193o7bn">Harry Nicholls</span></a> sent me an example from a current project he's working on. The scenario he described is that the team had:</p><div class="css-5u8i8j"><div class="css-1q29gwd"><p><em>A stateless-functional component that was refactored to a class-based component just so we could track the state of the Sidebar (to open and close it via a button, and open it after navigating to a new page).</em></p></div></div><p>We could definitely make use of <span class="ds-code-highlight">useState</span> here, and probably <span class="ds-code-highlight">useEffect</span> too.</p><p>There are other components that have a similar <span class="ds-code-highlight">toggleExpanded</span> functionality, so it could even be extracted into a utility and imported where needed.</p><p>This sounded like a great scenario for using hooks. With a bit of code removed for clarity, the initial functional version is below:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">export</span><span> </span><span style="color:#7928a1">const</span><span> Layout = </span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">{ children, pageName, router }</span><span class="hljs-function">) =&gt;</span><span> {
</span><span>    </span><span style="color:#7928a1">const</span><span> currentPath = stripLangFromPath(router.pathname);
</span><span>    </span><span style="color:#7928a1">const</span><span> sectionRoutes = getCategorisedRoutesForSection(router.pathname);
</span><span>  </span><span style="color:#7928a1">return</span><span> (
</span><span>    </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">MainNav</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Sidebar</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">pathname</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{currentPath}</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Page</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">name</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{pageName}</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        {children}
</span><span class="xml">        {sectionRoutes.uncategorised.length &gt; 1 &amp;&amp; (
</span><span class="xml">          </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">NextPage</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">pathname</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{currentPath}</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">sectionRoutes</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{sectionRoutes.uncategorised}</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">        )}
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">Page</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Footer</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">    </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span>
</span>  );
<!-- -->};
</code></pre><p>Requirements changed, the component then needed to know whether the <span class="ds-code-highlight">Sidebar</span> was expanded or not, and needed to listen to events from the router. It was refactored into a class component so it could have state and access to the <span class="ds-code-highlight">componentDidMount</span> lifecycle hook.</p><p>Harry ended up with this class-based component:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">export</span><span> </span><span class="hljs-class" style="color:#7928a1">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#007faa">Layout</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#7928a1">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#007faa">React</span><span class="hljs-class">.</span><span class="hljs-class" style="color:#007faa">Component</span><span class="hljs-class"> </span><span>{
</span><span>  </span><span class="hljs-function" style="color:#007faa">constructor</span><span class="hljs-function">(</span><span class="hljs-function">)</span><span> {
</span><span>    </span><span style="color:#aa5d00">super</span><span>();
</span><span>    </span><span style="color:#aa5d00">this</span><span>.state = {
</span><span>      </span><span class="hljs-attr">isSidebarExpanded</span><span>: </span><span style="color:#aa5d00">true</span><span>,
</span>    };
<!-- -->  }
<!-- -->
<span>  </span><span class="hljs-function" style="color:#007faa">componentDidMount</span><span class="hljs-function">(</span><span class="hljs-function">)</span><span> {
</span><span>    Router.events.on(</span><span style="color:#008000">'routeChangeComplete'</span><span>, </span><span class="hljs-function">() =&gt;</span><span> {
</span><span>      </span><span style="color:#aa5d00">this</span><span>.setState({
</span><span>        </span><span class="hljs-attr">isSidebarExpanded</span><span>: </span><span style="color:#aa5d00">true</span><span>,
</span>      });
<!-- -->    });
<!-- -->  }
<!-- -->
<span>  toggleSidebar = </span><span class="hljs-function" style="color:#aa5d00">isSidebarExpanded</span><span class="hljs-function"> =&gt;</span><span> {
</span><span>    </span><span style="color:#aa5d00">this</span><span>.setState({
</span><span>      </span><span class="hljs-attr">isSidebarExpanded</span><span>: !isSidebarExpanded,
</span>    });
<!-- -->  };
<!-- -->
<span>  </span><span class="hljs-function" style="color:#007faa">render</span><span class="hljs-function">(</span><span class="hljs-function">)</span><span> {
</span><span>    </span><span style="color:#7928a1">const</span><span> { children, pageName, router } = </span><span style="color:#aa5d00">this</span><span>.props;
</span><span>    </span><span style="color:#7928a1">const</span><span> { isSidebarExpanded } = </span><span style="color:#aa5d00">this</span><span>.state;
</span><span>    </span><span style="color:#7928a1">const</span><span> currentPath = stripLangFromPath(router.pathname);
</span><span>        </span><span style="color:#7928a1">const</span><span> sectionRoutes = getCategorisedRoutesForSection(router.pathname);
</span>
<span>    </span><span style="color:#7928a1">return</span><span> (
</span><span>      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">MainNav</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">          </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Sidebar</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">            </span><span class="xml hljs-attr" style="color:#d91e18">pathname</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{currentPath}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">            </span><span class="xml hljs-attr" style="color:#d91e18">toggleSidebar</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{this.toggleSidebar}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">            </span><span class="xml hljs-attr" style="color:#d91e18">isExpanded</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{isSidebarExpanded}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          /&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Page</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">name</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{pageName}</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">          {children}
</span><span class="xml">          </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">NextPage</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">pathname</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{currentPath}</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">sectionRoutes</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{sectionRoutes.uncategorised}</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">Page</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">          </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Footer</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span>
</span>    );
<!-- -->  }
<!-- -->}
</code></pre><p>The component is now significantly bigger, just because of the small change in requirements.</p><p>This is a scenario where Hooks would be a good fit, and an easy way to start to leverage new features of React without needing a large-scale refactor effort.</p><h2 id="but-how-can-i-identify-similar-scenarios-in-my-own-projects?">But how can I identify similar scenarios in my own projects?</h2><p>First think about how the change came about, and what are the additional requirements really asking you to do?</p><p>In Harry's case, the change was driven by these additional requirements:</p><ul><li class="">Keep track of whether or not the sidebar is expanded</li><li class="">Respond to router events once the component mounts</li></ul><p>Two things should jump out here:</p><ul><li class="">Keeping track of something means adding state</li><li class="">Responding to events requires a subscription</li></ul><p>Considering these, we can then think about which hooks would be appropriate to use:</p><ul><li class=""><span class="ds-code-highlight">useState</span> for tracking the state of the sidebar</li><li class=""><span class="ds-code-highlight">useEffect</span> for the router event subscription and cleanup</li></ul><p>Here's what the functional <span class="ds-code-highlight">Layout</span> component could look like with those hooks:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">export</span><span> </span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">Layout</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">props</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="color:#7928a1">const</span><span> [isSidebarExpanded, setSideBarExpanded] = useState(</span><span style="color:#aa5d00">true</span><span>);
</span>
<span>  </span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">handleRouteChange</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">url</span><span class="hljs-function">) </span><span>{
</span><span>    setSideBarExpanded(</span><span style="color:#aa5d00">true</span><span>);
</span>  }
<!-- -->
<span>  useEffect(</span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">routeChangeComplete</span><span class="hljs-function">(</span><span class="hljs-function">) </span><span>{
</span><span>    Router.events.on(</span><span style="color:#008000">'routeChangeComplete'</span><span>, handleRouteChange);
</span><span>    </span><span style="color:#7928a1">return</span><span> </span><span class="hljs-function">() =&gt;</span><span> Router.events.off(</span><span style="color:#008000">'routeChangeComplete'</span><span>, handleRouteChange);
</span>  },[]);
<!-- -->
<span>  </span><span style="color:#7928a1">const</span><span> toggleSidebar = </span><span class="hljs-function">() =&gt;</span><span> setSideBarExpanded(!isSidebarExpanded);
</span>
<span>  </span><span style="color:#7928a1">const</span><span> { children, pageName, router } = props;
</span><span>  </span><span style="color:#7928a1">const</span><span> currentPath = stripLangFromPath(router.pathname);
</span><span>  </span><span style="color:#7928a1">const</span><span> sectionRoutes = getCategorisedRoutesForSection(router.pathname);
</span>
<span>  </span><span style="color:#7928a1">return</span><span> (
</span><span>    </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">MainNav</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Sidebar</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">pathname</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{currentPath}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">sectionRoutes</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{sectionRoutes}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">toggleSidebar</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{toggleSidebar}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">isExpanded</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{isSidebarExpanded}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">        /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Page</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">name</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{pageName}</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        {children}
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">NextPage</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">pathname</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{currentPath}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">sectionRoutes</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{sectionRoutes.uncategorised}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">         /&gt;</span><span class="xml">
</span><span class="xml">        )}
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">Page</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Footer</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">    </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span>
</span>  );
<!-- -->}
</code></pre><p>An eagle-eyed code reviewer may have noticed a potential bug in the initial class based version - we're not cleaning up the subscription when the component unmounts.</p><p>It's easy to overlook this when your subscription code and cleanup code are split between two different lifecycle methods such as:</p><ul><li class=""><span class="ds-code-highlight">componentDidMount</span></li><li class=""><span class="ds-code-highlight">componentWillUnmount</span></li></ul><p>With the <span class="ds-code-highlight">useEffect</span> hook, your cleanup code can live right next to your subscription code.</p><h2 id="custom-hooks">Custom Hooks</h2><p>One of the benefits when we start keeping related code close together like this, is being able to notice which common patterns emerge.</p><p>In this case, wanting to run a function when a router event happens, <strong>and </strong>clean up the subscription when the component unmounts.</p><p>This could be generalized into a custom hook <span class="ds-code-highlight">useOnRouterEvent</span>:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#696969">// utils/hooks.js</span><span>
</span><span></span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">useOnRouterEvent</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">event, cb</span><span class="hljs-function">) </span><span>{
</span><span>  useEffect(</span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">handleEvent</span><span class="hljs-function">(</span><span class="hljs-function">) </span><span>{
</span>    Router.events.on(event, cb);
<span>    </span><span style="color:#7928a1">return</span><span> </span><span class="hljs-function">() =&gt;</span><span> Router.events.off(event, cb);
</span>  },[]);
<!-- -->}
<!-- -->
<span></span><span style="color:#696969">// Layout.js</span><span>
</span><span></span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">Layout</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">props</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="color:#7928a1">const</span><span> [isSidebarExpanded, setSideBarExpanded] = useState(</span><span style="color:#aa5d00">true</span><span>);
</span>
<span>  </span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">handleRouteChange</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">url</span><span class="hljs-function">) </span><span>{
</span><span>    setSideBarExpanded(</span><span style="color:#aa5d00">true</span><span>);
</span>  }
<span>  useOnRouterEvent(</span><span style="color:#008000">'routeChangeComplete'</span><span>, handleRouteChange);
</span>
<span></span><span style="color:#696969">/* ...... */</span><span>
</span>}
</code></pre><p>We could use an <span class="ds-code-highlight">()⇒</span> arrow function in the <span class="ds-code-highlight">useEffect</span> handler, however using named functions will help keep things easier to debug, and show the function name in the React Devtools once they support Hooks.</p><span class="ds-figure"><figure class="css-14taefl"><img src="images/refactor-to-react-hooks-not-classes-50.png" alt="React Dev Tools - Hook Support" loading="lazy" sizes="100%" class="css-4a0506"></figure></span><h2 id="extracting-reusable-behaviour">Extracting Reusable Behaviour</h2><p>Other components in the library also need similar toggle functionality. The common requirement is to keep track of whether a component is expanded or not, while being able to explicitly set it it's state, with the option to simply toggle it.</p><p>We can extract this behaviour into another custom, reusable hook, <span class="ds-code-highlight">useToggle</span>:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">useToggle</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">initialState</span><span class="hljs-function">) </span><span>{
</span><span>    </span><span style="color:#7928a1">const</span><span> [isExpanded, setExpanded] = useState(initialState);
</span>
<span>    </span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">toggleExpanded</span><span class="hljs-function">(</span><span class="hljs-function">) </span><span>{
</span>        setExpanded(!isExpanded);
<!-- -->    }
<span>    </span><span style="color:#696969">// We probably still want to expose 'setExpanded' so we can explicitly set the state</span><span>
</span><span>    </span><span style="color:#7928a1">return</span><span> [isExpanded, setExpanded, toggleExpanded]; 
</span>}
</code></pre><p>We can then leverage this hook in the <span class="ds-code-highlight">Layout</span> component as we discussed above:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">Layout</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">props</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="color:#7928a1">const</span><span> [isSidebarExpanded, setSidebarExpanded, toggleSidebar] = useToggle(</span><span style="color:#aa5d00">true</span><span>);
</span>
<span>  </span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">handleRouteChange</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">url</span><span class="hljs-function">) </span><span>{
</span><span>    setSidebarExpanded(</span><span style="color:#aa5d00">true</span><span>);
</span>  }
<span>  useOnRouterEvent(</span><span style="color:#008000">'routeChangeComplete'</span><span>, handleRouteChange);
</span>
<span>    {</span><span style="color:#696969">/* ...... */</span><span>}
</span>
<span>  </span><span style="color:#7928a1">return</span><span> (
</span><span>    </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">MainNav</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Sidebar</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">pathname</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{currentPath}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">sectionRoutes</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{sectionRoutes}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">toggleSidebar</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{toggleSidebar}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">          </span><span class="xml hljs-attr" style="color:#d91e18">isExpanded</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{isSidebarExpanded}</span><span class="xml" style="color:#d91e18">
</span><span class="xml" style="color:#d91e18">        /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">div</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      {/* ...... */}
</span><span class="xml">  );
</span><span class="xml">}
</span><span class="xml"></span></code></pre><p>The concept of a toggle can apply to many situations, so we looked for another component in the project that had a similar need. One such component was the <span class="ds-code-highlight">PropsTable</span>, that needs to toggle the expanded state.</p><p>This is another case, where a functional component was turned into a class based one just for a simple bit of state.</p><p>Class-based PropsTable:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">export</span><span> </span><span class="hljs-class" style="color:#7928a1">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#007faa">PropsTable</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#7928a1">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color:#007faa">React</span><span class="hljs-class">.</span><span class="hljs-class" style="color:#007faa">Component</span><span class="hljs-class"> </span><span>{
</span><span>  </span><span class="hljs-function" style="color:#007faa">constructor</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">props</span><span class="hljs-function">)</span><span> {
</span><span>    </span><span style="color:#aa5d00">super</span><span>(props);
</span>
<span>    </span><span style="color:#aa5d00">this</span><span>.state = {
</span><span>      </span><span class="hljs-attr">isExpanded</span><span>: </span><span style="color:#aa5d00">false</span><span>,
</span><span>      </span><span class="hljs-attr">propsRows</span><span>: </span><span style="color:#aa5d00">this</span><span>.getPropsRows(props.components),
</span>    };
<!-- -->  }
<!-- -->
<span>    </span><span class="hljs-function" style="color:#007faa">getPropsRows</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">components</span><span class="hljs-function">)</span><span> {
</span><span>        { </span><span style="color:#696969">/* ...... */</span><span> }
</span>  }
<!-- -->
<span>  </span><span class="hljs-function" style="color:#007faa">toggleExpanded</span><span class="hljs-function">(</span><span class="hljs-function">)</span><span> {
</span><span>    </span><span style="color:#aa5d00">this</span><span>.setState(</span><span class="hljs-function" style="color:#aa5d00">prevState</span><span class="hljs-function"> =&gt;</span><span> ({
</span><span>      </span><span class="hljs-attr">isExpanded</span><span>: !prevState.isExpanded,
</span>    }));
<!-- -->  }
<!-- -->
<span>  </span><span class="hljs-function" style="color:#007faa">render</span><span class="hljs-function">(</span><span class="hljs-function">)</span><span> {
</span><span>    </span><span style="color:#7928a1">const</span><span> { collapseTo } = </span><span style="color:#aa5d00">this</span><span>.props;
</span><span>    </span><span style="color:#7928a1">const</span><span> { propsRows, isExpanded } = </span><span style="color:#aa5d00">this</span><span>.state;
</span>
<span>    </span><span style="color:#7928a1">const</span><span> isExpandable = collapseTo &gt;= </span><span style="color:#aa5d00">0</span><span> &amp;&amp; propsRows.length &gt; collapseTo;
</span><span>    </span><span style="color:#7928a1">const</span><span> displayedPropRows = isExpandable &amp;&amp; !isExpanded ? propsRows.slice(</span><span style="color:#aa5d00">0</span><span>, collapseTo) : propsRows;
</span><span>    </span><span style="color:#7928a1">const</span><span> showMoreText = isExpanded ? </span><span style="color:#008000">'Show Less'</span><span> : </span><span style="color:#008000">'Show More'</span><span>;
</span><span>    </span><span style="color:#7928a1">const</span><span> showMoreIcon = isExpanded ? </span><span style="color:#008000">'chevron-up'</span><span> : </span><span style="color:#008000">'chevron-down'</span><span>;
</span>
<span>    </span><span style="color:#7928a1">return</span><span> (
</span><span>      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Table</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">         { /* ..... */ }
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">tbody</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">          {displayedPropRows.map(row =&gt; (
</span><span class="xml">            </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Prop</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">prop</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{row}</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">          ))}
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">tbody</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">tfoot</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">          </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">tr</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">            </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">td</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">colSpan</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">"3"</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">              </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Button</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">element</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">"button"</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">variant</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">"moreless"</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">onClick</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{this.toggleExpanded}</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">                {showMoreText}
</span><span class="xml">                </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">FontAwesomeIcon</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">icon</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{showMoreIcon}</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">              </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">Button</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">            </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">td</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">          </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">tr</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">tfoot</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">Table</span><span class="xml" style="color:#d91e18">&gt;</span><span>
</span>    );
<!-- -->  }
<!-- -->}
</code></pre><p>With hooks, we are able to keep this as a functional component, and easily reuse code that is based on behaviour, not UI.</p><p>And here it is as a functional component with the custom <span class="ds-code-highlight">useToggle</span> hook:</p><pre style="display:block;overflow-x:auto;background:#fefefe;color:#545454;padding:0.5em"><code class="language-javascript" style="white-space:pre"><span style="color:#7928a1">export</span><span> </span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">PropsTable</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">props</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="color:#7928a1">const</span><span> [isTableExpanded, , toggleExpanded] = useToggle(</span><span style="color:#aa5d00">false</span><span>); </span><span style="color:#696969">// Skipped 'setExpanded' function as it's not used here</span><span>
</span>
<span>  </span><span class="hljs-function" style="color:#7928a1">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#007faa">getPropsRows</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#aa5d00">components</span><span class="hljs-function">) </span><span>{
</span><span>    { </span><span style="color:#696969">/* ...... */</span><span> }
</span>  }
<!-- -->
<span>  </span><span style="color:#7928a1">const</span><span> { collapseTo } = props;
</span><span>  </span><span style="color:#7928a1">const</span><span> propsRows = getPropsRows(props.components);
</span>
<span>  </span><span style="color:#7928a1">const</span><span> isExpandable = collapseTo &gt;= </span><span style="color:#aa5d00">0</span><span> &amp;&amp; propsRows.length &gt; collapseTo;
</span><span>  </span><span style="color:#7928a1">const</span><span> displayedPropRows = isExpandable &amp;&amp; !isTableExpanded ? propsRows.slice(</span><span style="color:#aa5d00">0</span><span>, collapseTo) : propsRows;
</span><span>  </span><span style="color:#7928a1">const</span><span> showMoreText = isTableExpanded ? </span><span style="color:#008000">'Show Less'</span><span> : </span><span style="color:#008000">'Show More'</span><span>;
</span><span>  </span><span style="color:#7928a1">const</span><span> showMoreIcon = isTableExpanded ? </span><span style="color:#008000">'chevron-up'</span><span> : </span><span style="color:#008000">'chevron-down'</span><span>;
</span>
<span>  </span><span style="color:#7928a1">return</span><span> (
</span><span>    </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Table</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      {/* ... */}
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">tbody</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        {displayedPropRows.map(row =&gt; (
</span><span class="xml">          </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Prop</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">prop</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{row}</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">        ))}
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">tbody</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">tfoot</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">tr</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">          </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">td</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">colSpan</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">"3"</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">            </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">Button</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">element</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">"button"</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">variant</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">"moreless"</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">onClick</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{toggleExpanded}</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">              {showMoreText}
</span><span class="xml">              </span><span class="xml" style="color:#d91e18">&lt;</span><span class="xml" style="color:#d91e18">FontAwesomeIcon</span><span class="xml" style="color:#d91e18"> </span><span class="xml hljs-attr" style="color:#d91e18">icon</span><span class="xml" style="color:#d91e18">=</span><span class="xml" style="color:#008000">{showMoreIcon}</span><span class="xml" style="color:#d91e18"> /&gt;</span><span class="xml">
</span><span class="xml">            </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">Button</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">          </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">td</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">tr</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">tfoot</span><span class="xml" style="color:#d91e18">&gt;</span><span class="xml">
</span><span class="xml">    </span><span class="xml" style="color:#d91e18">&lt;/</span><span class="xml" style="color:#d91e18">Table</span><span class="xml" style="color:#d91e18">&gt;</span><span>
</span>  );
<!-- -->}
</code></pre><h2 id="is-there-a-hook-for-that?">Is there a Hook for that?</h2><p>Hopefully this post has shown you how Hooks will allow you to track state and access lifecycle hooks in a functional component.</p><p>Soon, you won't be forced to use class-based components if you need to do these things. You'll be able to add built-in React Hooks to your functional component, and create custom, reusable Hook utilities for commonly used functionalities.</p><p>If you want to start identifying areas for improvement now, and get some easy wins, look out for simple, class-based components in your codebase that track small pieces of local state, or subscribe to events.</p><p>And next time you find yourself about to change a functional component to a class-based component, ask yourself:</p><div class="css-5u8i8j"><div class="css-1q29gwd"><p><em>Is there a Hook for that?</em></p></div></div><p>If there isn't, could you create one?</p><p>Keep your eyes on the <a href="http://rangle.io" target="_blank" data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="http://rangle.io" style="text-decoration:underline" class="css-k1irjw"><span class="ds-link css-aplkc0">Rangle.io</span></a> blog, as we'll continue to find and share examples like this to demonstrate how your existing codebase can benefit from Hooks.</p><p>If your as excited about the upcoming features in React as we are, consider joining our team and check out <a data-on="click" data-event-category="CTA" data-event-action="click" data-event-label="/careers" style="text-decoration:underline" class="css-k1irjw" href="/careers"><span class="ds-link css-193o7bn">current openings</span></a></p></div></article></section></div></div>
